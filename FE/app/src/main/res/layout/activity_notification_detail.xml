<?xml version="1.0" encoding="utf-8"?>
<androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/md_theme_light_background"
    tools:context=".ui.Activities.NotificationDetailActivity">

    <com.google.android.material.appbar.AppBarLayout
        android:id="@+id/appBarLayout"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@color/white"
        app:elevation="4dp">

        <com.google.android.material.appbar.MaterialToolbar
            android:id="@+id/toolbar"
            android:layout_width="match_parent"
            android:layout_height="?attr/actionBarSize"
            android:background="@color/white"
            android:layout_marginTop="30dp"
            app:navigationIcon="@drawable/ic_back"
            app:title="Chi tiết thông báo"
            app:titleTextColor="@color/text_primary" />
    </com.google.android.material.appbar.AppBarLayout>

    <androidx.core.widget.NestedScrollView
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:fillViewport="true"
        app:layout_behavior="@string/appbar_scrolling_view_behavior">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:padding="20dp">

            <!-- Icon Container -->
            <FrameLayout
                android:id="@+id/iconContainer"
                android:layout_width="40dp"
                android:layout_height="40dp"
                android:backgroundTint="#E8F5E9"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent">

                <ImageView
                    android:id="@+id/ivNotificationIcon"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:layout_gravity="center"
                    android:src="@drawable/ic_notification"
                    app:tint="@color/app_green_primary" />
            </FrameLayout>

            <!-- Sender Badge -->
            <com.google.android.material.card.MaterialCardView
                android:id="@+id/senderBadgeCard"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginStart="12dp"
                android:layout_marginTop="4dp"
                app:cardBackgroundColor="@color/app_green_primary"
                app:cardCornerRadius="0dp"
                app:cardElevation="0dp"
                app:layout_constraintStart_toEndOf="@+id/iconContainer"
                app:layout_constraintTop_toTopOf="parent">

                <TextView
                    android:id="@+id/tvSenderBadge"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:paddingHorizontal="10dp"
                    android:paddingVertical="3dp"
                    android:text="ORGANIZATION"
                    android:textAllCaps="true"
                    android:textColor="@color/white"
                    android:textSize="9sp"
                    android:textStyle="bold" />
            </com.google.android.material.card.MaterialCardView>

            <!-- Title -->
            <TextView
                android:id="@+id/tvNotificationTitle"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_marginStart="12dp"
                android:layout_marginTop="8dp"
                android:text="Thông báo về sự kiện tình nguyện mới"
                android:textColor="@color/text_primary"
                android:textSize="17sp"
                android:textStyle="bold"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toEndOf="@+id/iconContainer"
                app:layout_constraintTop_toBottomOf="@id/senderBadgeCard" />

            <!-- Time & Type Info -->
            <LinearLayout
                android:id="@+id/infoContainer"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_marginStart="12dp"
                android:layout_marginTop="6dp"
                android:orientation="horizontal"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toEndOf="@+id/iconContainer"
                app:layout_constraintTop_toBottomOf="@id/tvNotificationTitle">

                <ImageView
                    android:layout_width="14dp"
                    android:layout_height="14dp"
                    android:src="@drawable/ic_clock"
                    app:tint="@color/gray_500" />

                <TextView
                    android:id="@+id/tvNotificationTime"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginStart="4dp"
                    android:text="2 giờ trước"
                    android:textColor="@color/gray_500"
                    android:textSize="12sp" />



                <TextView
                    android:id="@+id/tvNotificationType"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginLeft="12dp"
                    android:text="Cá nhân"
                    android:textColor="@color/gray_500"
                    android:textSize="12sp" />
            </LinearLayout>

            <!-- Content Card -->
            <com.google.android.material.card.MaterialCardView
                android:id="@+id/contentCard"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="20dp"
                app:cardBackgroundColor="@color/white"
                app:cardCornerRadius="0dp"
                app:cardElevation="0dp"
                app:layout_constraintTop_toBottomOf="@id/infoContainer"
                app:strokeColor="@color/gray_300"
                app:strokeWidth="1dp">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="16dp">

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Nội dung"
                        android:textColor="@color/text_primary"
                        android:textSize="13sp"
                        android:textStyle="bold" />

                    <TextView
                        android:id="@+id/tvNotificationContent"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="10dp"
                        android:lineSpacingExtra="3dp"
                        android:text="Chương trình 'Mùa hè xanh 2025' đang tìm kiếm tình nguyện viên. Đây là cơ hội tuyệt vời để bạn đóng góp cho cộng đồng và phát triển kỹ năng. Hãy đăng ký ngay!"
                        android:textColor="@color/text_secondary"
                        android:textSize="14sp" />
                </LinearLayout>
            </com.google.android.material.card.MaterialCardView>

            <!-- Attached File (Optional) -->
            <com.google.android.material.card.MaterialCardView
                android:id="@+id/attachedCard"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="12dp"
                android:visibility="gone"
                app:cardBackgroundColor="#FFF8E1"
                app:cardCornerRadius="0dp"
                app:cardElevation="0dp"
                app:layout_constraintTop_toBottomOf="@id/contentCard"
                app:strokeColor="#FFD54F"
                app:strokeWidth="1dp"
                tools:visibility="visible">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:gravity="center_vertical"
                    android:orientation="horizontal"
                    android:padding="14dp">

                    <ImageView
                        android:layout_width="24dp"
                        android:layout_height="24dp"
                        android:src="@drawable/ic_tag"
                        app:tint="#F57C00" />

                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_marginStart="12dp"
                        android:layout_weight="1"
                        android:orientation="vertical">

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Tệp đính kèm"
                            android:textColor="@color/text_primary"
                            android:textSize="12sp"
                            android:textStyle="bold" />

                        <TextView
                            android:id="@+id/tvAttachedFile"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_marginTop="2dp"
                            android:text="document.pdf"
                            android:textColor="@color/text_secondary"
                            android:textSize="12sp" />
                    </LinearLayout>

                    <ImageView
                        android:id="@+id/btnDownloadAttachment"
                        android:layout_width="32dp"
                        android:layout_height="32dp"
                        android:background="?attr/selectableItemBackgroundBorderless"
                        android:clickable="true"
                        android:focusable="true"
                        android:padding="4dp"
                        android:src="@drawable/ic_download"
                        app:tint="@color/app_green_primary" />
                </LinearLayout>
            </com.google.android.material.card.MaterialCardView>

            <!-- Action Buttons -->
            <LinearLayout
                android:id="@+id/actionButtonsContainer"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="24dp"
                android:orientation="horizontal"
                android:visibility="gone"
                app:layout_constraintTop_toBottomOf="@id/attachedCard"
                tools:visibility="visible">

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btnActionSecondary"
                    style="@style/Widget.Material3.Button.OutlinedButton"
                    android:layout_width="0dp"
                    android:layout_height="50dp"
                    android:layout_marginEnd="8dp"
                    android:layout_weight="1"
                    android:text="Xem sau"
                    android:textAllCaps="false"
                    android:textSize="14sp"
                    app:cornerRadius="0dp"
                    app:strokeColor="@color/app_green_primary"
                    app:strokeWidth="1dp" />

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btnActionPrimary"
                    style="@style/Widget.Material3.Button"
                    android:layout_width="0dp"
                    android:layout_height="50dp"
                    android:layout_marginStart="8dp"
                    android:layout_weight="1"
                    android:text="Xem chi tiết"
                    android:textAllCaps="false"
                    android:textSize="14sp"
                    app:backgroundTint="@color/app_green_primary"
                    app:cornerRadius="0dp" />
            </LinearLayout>

            <!-- Mark as Read Indicator -->
            <LinearLayout
                android:id="@+id/readStatusContainer"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="20dp"
                android:background="@color/white"
                android:backgroundTint="#E8F5E9"
                android:gravity="center"
                android:orientation="horizontal"
                android:padding="12dp"
                android:visibility="gone"
                app:layout_constraintTop_toBottomOf="@id/actionButtonsContainer"
                tools:visibility="visible">

                <ImageView
                    android:layout_width="18dp"
                    android:layout_height="18dp"
                    android:src="@drawable/ic_check"
                    app:tint="@color/app_green_primary" />

                <TextView
                    android:id="@+id/tvReadStatus"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginStart="8dp"
                    android:text="Đã đọc lúc 14:30 - 20/12/2025"
                    android:textColor="@color/app_green_primary"
                    android:textSize="12sp"
                    android:textStyle="bold" />
            </LinearLayout>

            <!-- Delete Button -->
            <com.google.android.material.button.MaterialButton
                android:id="@+id/btnDeleteNotification"
                style="@style/Widget.Material3.Button.TextButton"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginTop="16dp"
                android:text="Xóa thông báo"
                android:textAllCaps="false"
                android:textColor="@color/button_red"
                android:textSize="14sp"
                app:icon="@drawable/ic_delete"
                app:iconTint="@color/button_red"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toBottomOf="@id/readStatusContainer" />


        </androidx.constraintlayout.widget.ConstraintLayout>
    </androidx.core.widget.NestedScrollView>
</androidx.coordinatorlayout.widget.CoordinatorLayout>
